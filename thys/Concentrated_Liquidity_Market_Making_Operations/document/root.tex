\documentclass[11pt,a4paper]{article}
\usepackage[T1]{fontenc}
\usepackage{url}
\usepackage{isabelle,isabellesym}

% further packages required for unusual symbols (see also
% isabellesym.sty), use only when needed

%\usepackage{amssymb}
  %for \<leadsto>, \<box>, \<diamond>, \<sqsupset>, \<mho>, \<Join>,
  %\<lhd>, \<lesssim>, \<greatersim>, \<lessapprox>, \<greaterapprox>,
  %\<triangleq>, \<yen>, \<lozenge>

%\usepackage{eurosym}
  %for \<euro>

%\usepackage[only,bigsqcap,bigparallel,fatsemi,interleave,sslash]{stmaryrd}
  %for \<Sqinter>, \<Parallel>, \<Zsemi>, \<Parallel>, \<sslash>

%\usepackage{eufrak}
  %for \<AA> ... \<ZZ>, \<aa> ... \<zz> (also included in amssymb)

%\usepackage{textcomp}
  %for \<onequarter>, \<onehalf>, \<threequarters>, \<degree>, \<cent>,
  %\<currency>

% this should be the last package used
\usepackage{pdfsetup}

% urls in roman style, theory text in math-similar italics
\urlstyle{rm}
\isabellestyle{it}

% for uniform font size
%\renewcommand{\isastyle}{\isastyleminor}


\begin{document}

\title{Concentrated Liquidity Market Making Operations}
\author{Mnacho Echenim}
\maketitle

\begin{abstract}
	Automated Market Makers (AMMs) are one of the cornerstones of decentralized finance. They enable users to exchange tokens without the need for order books as would be the case in traditional finance. They involve \emph{liquidity providers}, whose tokens, usually called the \emph{quote} and \emph{base} tokens,  can be used in the swap process in exchange for a fee, and \emph{liquidity takers} who swap their tokens. The rules specifying the quantities of tokens that can swapped and those that act as fees are predefined and lead to several categories of AMMs.
	
%	Uniswap v3 introduced a novel set of rules meant to bring efficiency gains by allowing liquidity providers to allocate their tokens within chosen price intervals. This choice allows them to potentially gain more transaction fees than, e.g., in protocols  where tokens are uniformly distributed on all price ranges. The resulting protocol quickly gained in popularity and was adopted by other smart contracts on other blockchains, including Trader Joe, PancakeSwap v3, Sunswap v3 or Sushiswap v3. These smart contracts are collectively known as \emph{Concentrated Liquidity Market Makers} (CLMMs). Despite differences in implementation details—such as fee structures, tick spacing, or incentive mechanisms—all these protocols rely on the same core principles.
	
	Uniswap v3 introduced a new market-making design that improves capital efficiency by allowing liquidity providers to allocate their assets within selected price intervals. By concentrating liquidity over narrower ranges, providers may earn higher fee income than in earlier AMMs, where liquidity is generally distributed uniformly across all prices. Owing to its success, this design was  adopted by several decentralized exchanges on various blockchains, including Trader Joe, PancakeSwap v3, Sunswap v3, and Sushiswap v3. These protocols are collectively referred to as \emph{Concentrated Liquidity Market Makers} (CLMMs). Despite differences in implementation details, such as fee structures, tick spacing, or incentive mechanisms, they all rely on the same underlying principles.
	
	
%	Among AMMs, \emph{Concentrated Liquidity Market Makers} (CLMMs), introduced by Uniswap v3, have brought efficiency gains by allowing liquidity providers to allocate their tokens within chosen price intervals. This choice allows them to potentially gain more transaction fees than, e.g., in protocols  where tokens are uniformly distributed on all price ranges. 
	
%	CLMMs have since been adopted and extended by several other decentralized exchange protocols. Despite differences in implementation details—such as fee structures, tick spacing, or incentive mechanisms—all these protocols rely on the same core principles.
	In practice, liquidity takers can thus interact with multiple CLMM pools involving the same pair of tokens but different liquidity profiles or fee structures. A crucial task for them is to understand how these pools can be combined, both conceptually and computationally.
	
	Based on the work in \cite{univ3}, we formalize several notions related to CLMMs, and introduce several operations on such pools that permit to derive an optimality result: if two pools admit the same fees, then the defined transformations permit to determine the optimal quantities of quote tokens to trade in each pool in order to recover as many base tokens as possible.
\end{abstract}

\tableofcontents

% sane default for proof documents
\parindent 0pt\parskip 0.5ex

% generated text of all theories
\input{session}

% optional bibliography
\bibliographystyle{abbrv}
\bibliography{root}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
