<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Concentrated Liquidity Market Making Operations - Archive of Formal Proofs</title>
    <meta name="description" content="Concentrated Liquidity Market Making Operations in the Archive of Formal Proofs">
    <meta property="og:description" content="Concentrated Liquidity Market Making Operations in the Archive of Formal Proofs">
    <meta property="og:title" content="Concentrated Liquidity Market Making Operations">
    <meta property="og:url" content="https://isa-afp.org/entries/Concentrated_Liquidity_Market_Making_Operations.html">
    <meta property="og:image" content="https://isa-afp.org/images/afp.png">
    <meta property="og:type" content="article">
  <link rel="stylesheet" type="text/css" href="../css/front.min.css">
  <link rel="icon" href="../images/favicon.ico" type="image/icon">
    
    <script>
      MathJax = {
        tex: {
          inlineMath: [["$", "$"], ["\\(", "\\)"]]
        },
        processEscapes: true,
        svg: {
          fontCache: "global"
        }
      };
    </script>
    <script id="MathJax-script" async src="../js/mathjax/es5/tex-mml-chtml.js">
    </script>

  <script src="../js/util.js"></script>
  <script src="../js/flexsearch.bundle.js"></script>
  <script src="../js/search-autocomplete.js"></script>
    <script src="../js/obfuscate.js"></script>
    <script src="../js/entries.js"></script>
</head>

  <body class="mathjax_ignore">
    <aside><div id="menu-toggle">
  <input id="toggle" type="checkbox">
  <label for="toggle">
    <span>menu</span>
    <img src="../images/menu.svg" alt="Menu">
  </label>
  <a href="../" class="logo-link">
    <img src="../images/afp.png" alt="Logo of the Archive of Formal Proofs" class="logo">
  </a>
  <nav id="menu">
    <div>
      <a href="../" class="logo-link">
        <img src="../images/afp.png" alt="Logo of the Archive of Formal Proofs" class="logo">
      </a>
      <ul>
          <li >
            <a href="../">Home</a>
          </li>
          <li >
            <a href="../topics/">Topics</a>
          </li>
          <li >
            <a href="../download/">Download</a>
          </li>
          <li >
            <a href="../help/">Help</a>
          </li>
          <li >
            <a href="../submission/">Submission</a>
          </li>
          <li >
            <a href="../statistics/">Statistics</a>
          </li>
          <li >
            <a href="../about/">About</a>
          </li>
      </ul>
    </div>
  </nav>
</div>
    </aside>

    <div class="content entries"><header>
    <form autocomplete="off" action="../search/">
      <div class="form-container">
        <input id="search-input" name="s" type="search" size="31" maxlength="255" value=""
               aria-label="Search the AFP" list="autocomplete"><button id="search-button" type="submit">
          <img src="../images/search.svg" alt="Search">
        </button>
        <datalist id="autocomplete"></datalist>
      </div>
    </form>
  <h1>
    <span class='first'>C</span>oncentrated <span class='first'>L</span>iquidity <span class='first'>M</span>arket <span class='first'>M</span>aking <span class='first'>O</span>perations
  </h1>
  <div>
      <p><a href="../authors/echenim/">Mnacho Echenim</a> <a class="obfuscated" data="eyJ1c2VyIjpbIm1uYWNobyIsImVjaGVuaW0iXSwiaG9zdCI6WyJ1bml2LWdyZW5vYmxlLWFscGVzIiwiZnIiXX0=">ðŸ“§</a>
      </p>
      <p class="date">January 30, 2026</p>
  </div>
</header>
      <div>
  <main>

    <h3>Abstract</h3>
    <div class="abstract mathjax_process">Automated Market Makers (AMMs) are one of the cornerstones of decentralized finance. They enable users to exchange tokens without the need for order books as would be the case in traditional finance. They involve liquidity providers, whose tokens, usually called the quote and base tokens,  can be used in the swap process in exchange for a fee, and liquidity takers who swap their tokens. The rules specifying the quantities of tokens that can swapped and those that act as fees are predefined and lead to several categories of AMMs.


Uniswap v3 introduced a new market-making design that improves capital efficiency by allowing liquidity providers to allocate their assets within selected price intervals. By concentrating liquidity over narrower ranges, providers may earn higher fee income than in earlier AMMs, where liquidity is generally distributed uniformly across all prices. Owing to its success, this design was  adopted by several decentralized exchanges on various blockchains, including Trader Joe, PancakeSwap v3, Sunswap v3, and Sushiswap v3. These protocols are collectively referred to as Concentrated Liquidity Market Makers (CLMMs). Despite differences in implementation details, such as fee structures, tick spacing, or incentive mechanisms, they all rely on the same underlying principles.

In practice, liquidity takers can thus interact with multiple CLMM pools involving the same pair of tokens but different liquidity profiles or fee structures. A crucial task for them is to understand how these pools can be combined, both conceptually and computationally.

We formalize several notions related to CLMMs, and introduce several operations on such pools that permit to derive an optimality result: if two pools admit the same fees, then the defined transformations permit to determine the optimal quantities of quote tokens to trade in each pool in order to recover as many base tokens as possible.</div>

    <h3>License</h3>
    <div>
        <a href="https://isa-afp.org/LICENSE">BSD License</a>
    </div>
      <h3>Topics</h3>
      <ul>
          <li><a href="../topics/computer-science/algorithms/">Computer science/Algorithms</a></li>
      </ul>
      <h3>Session Concentrated_Liquidity_Market_Making_Operations</h3>
      <ul>
          <li><a href="../thys/AFP/Concentrated_Liquidity_Market_Making_Operations/CLMM_Misc.html">CLMM_Misc</a></li>
          <li><a href="../thys/AFP/Concentrated_Liquidity_Market_Making_Operations/Grid_Information.html">Grid_Information</a></li>
          <li><a href="../thys/AFP/Concentrated_Liquidity_Market_Making_Operations/CLMM_Description.html">CLMM_Description</a></li>
          <li><a href="../thys/AFP/Concentrated_Liquidity_Market_Making_Operations/CLMM_Transformation.html">CLMM_Transformation</a></li>
      </ul>

    <div class="flex-wrap">
    </div>
  </main>

  <nav class="links">
    <a class="popup-button" href="#cite-popup">Cite</a>
    <a class="popup-button" href="#download-popup">Download</a>
    <h4>PDFs</h4>
    <a href="https://www.isa-afp.org/browser_info/current/AFP/Concentrated_Liquidity_Market_Making_Operations/outline.pdf">Proof outline</a>
    <a href="https://www.isa-afp.org/browser_info/current/AFP/Concentrated_Liquidity_Market_Making_Operations/document.pdf">Proof document</a>
    <a href="https://www.isa-afp.org/browser_info/current/AFP/Concentrated_Liquidity_Market_Making_Operations/session_graph.pdf">Dependencies</a>
  </nav>

  <div id="cite-popup" class="overlay">
    <a class="cancel" href="#"></a>
    <div class="popup">
      <h2>Cite</h2>
      <a class="close" href="#">&times;</a>
      <div>
        <p style="display:none;" id="bibtex-filename">Concentrated_Liquidity_Market_Making_Operations-AFP</p>
        <pre id="copy-text">@article{Concentrated_Liquidity_Market_Making_Operations-AFP,
  author  = {Mnacho Echenim},
  title   = {Concentrated Liquidity Market Making Operations},
  journal = {Archive of Formal Proofs},
  month   = {January},
  year    = {2026},
  note    = {\url{https://isa-afp.org/entries/Concentrated_Liquidity_Market_Making_Operations.html},
             Formal proof development},
  ISSN    = {2150-914x},
}</pre>
        <button id="copy-bibtex">Copy</button> <a id="download-bibtex">Download</a>
      </div>
    </div>
  </div>

  <div id="download-popup" class="overlay">
    <a class="cancel" href="#"></a>
    <div class="popup">
      <h2>Download</h2>
      <a class="close" href="#">&times;</a>
      <a href="https://www.isa-afp.org/release/afp-Concentrated_Liquidity_Market_Making_Operations-current.tar.gz" download>
        Download latest</a>
        <p>Older releases:</p>
        <ul>
            <li>
              <a href="https://www.isa-afp.org/release/afp-Concentrated_Liquidity_Market_Making_Operations-2026-02-06.tar.gz">
                Feb 6, 2026
              </a>
              : Isabelle2025-2
            </li>
            <li>
              <a href="https://www.isa-afp.org/release/afp-Concentrated_Liquidity_Market_Making_Operations-2026-02-04.tar.gz">
                Feb 4, 2026
              </a>
              : Isabelle2025-2
            </li>
            <li>
              <a href="https://www.isa-afp.org/release/afp-Concentrated_Liquidity_Market_Making_Operations-2026-02-03.tar.gz">
                Feb 3, 2026
              </a>
              : Isabelle2025-2
            </li>
        </ul>
    </div>
  </div>
      </div>
    </div>
  </body>
</html>